(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{27:function(n,e,t){n.exports=t(50)},50:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(21),c=t.n(i),o=t(8),u=t.n(o),l=t(22),p=t(4),d=t(1),s=t(2),f=(t(6),t(23)),b=["Movie","Series"],m=function(n,e){return Object(f.a)(n,(function(n){switch(null===e||void 0===e?void 0:e.type){case"movies fetched":n.movies=e.movies;break;case"page button plus clicked":n.page+=1;break;case"page button minus clicked":n.page-=1;break;case"popup back button clicked":n.selectedMovie=void 0,n.popupState=!1;break;case"movies list item clicked":n.selectedMovie=e.clickedMovieId,n.popupState=!0;break;case"search submitted":n.page=1,n.mediaType=e.payload.mediaType,n.search=e.payload.search}}))};function x(){var n=Object(d.a)(['\n  font-size: 25px;\n  font-family: "Montserrat", sans-serif;\n  padding: 10px 20px;\n  margin: 5px 10px;\n  border: 2px solid black;\n  border-radius: 10px;\n  background: none;\n  color: black;\n  transition: 0.2s;\n  :hover {\n    background: black;\n    color: white;\n  }\n']);return x=function(){return n},n}function v(){var n=Object(d.a)(['\n  width: 150px;\n  font-size: 25px;\n  padding: 10px 20px;\n  margin: 5px 10px;\n  background: none;\n  border-bottom: 2px solid black;\n  border-left: none;\n  border-right: none;\n  border-top: none;\n  color: black;\n  font-family: "Montserrat", sans-serif;\n  :focus {\n    outline-width: 0;\n  }\n']);return v=function(){return n},n}function g(){var n=Object(d.a)(['\n  width: 300px;\n  font-size: 25px;\n  padding: 10px 20px;\n  margin: 5px 10px;\n  background: none;\n  border-bottom: 2px solid black;\n  border-left: none;\n  border-right: none;\n  border-top: none;\n  color: black;\n  font-family: "Montserrat", sans-serif;\n  :focus,\n  :hover {\n    outline-width: 0;\n  }\n']);return g=function(){return n},n}function h(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return n},n}var k=s.a.form(h()),y=s.a.input(g()),j=s.a.select(v()),E=s.a.button(x()),O=function(n){var e=n.submit,t=Object(r.useState)(""),i=Object(p.a)(t,2),c=i[0],o=i[1],u=Object(r.useState)("Movie"),l=Object(p.a)(u,2),d=l[0],s=l[1];return a.a.createElement(k,{action:"submit",onSubmit:function(n){n.preventDefault(),""!==c&&(e({search:c,mediaType:d}),o(""))}},a.a.createElement(y,{type:"text",placeholder:"search...",value:c,onChange:function(n){return o(n.target.value)}}),a.a.createElement(j,{onChange:function(n){return s(n.target.value)}},b.map((function(n){return a.a.createElement("option",{key:n,value:n},n)}))),a.a.createElement(E,{type:"submit"},"Search"))};function w(){var n=Object(d.a)(["\n  font-size: 22px;\n  padding: 10px;\n"]);return w=function(){return n},n}function M(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return M=function(){return n},n}function T(){var n=Object(d.a)(["\n  opacity: 1;\n  height: 60px;\n  width: 40px;\n  transition: 0.5s ease;\n  backface-visibility: hidden;\n  :hover {\n    opacity: 0.5;\n  }\n"]);return T=function(){return n},n}function z(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  list-style: none;\n  flex: 0 0 18%;\n  margin: 5px 5px;\n  padding: 5px 5px;\n  width: auto;\n  background: white;\n  border-radius: 8px;\n"]);return z=function(){return n},n}var S=s.a.li(z()),C=s.a.img(T()),R=s.a.div(M()),I=s.a.div(w()),D=function(n){var e=n.movie,t=n.onClick;return a.a.createElement(S,{onClick:function(){return t(e.imdbID)}},a.a.createElement(C,{src:e.Poster,alt:"#"}),a.a.createElement(R,null,a.a.createElement(I,null,e.Title," (",e.Year,")")))};function P(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 20px 10px;\n  margin: 20px 10px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  border-radius: 8px;\n  background: white;\n"]);return P=function(){return n},n}var B=s.a.div(P()),F=function(n){var e=n.movies,t=n.clicked;return a.a.createElement(B,null,e.map((function(n){return a.a.createElement(D,{key:n.imdbID,movie:n,onClick:function(n){return t(n)}})})))};function J(){var n=Object(d.a)(["\n  padding: 10px;\n  color: rgb(66, 76, 84);\n  font-size: 16px;\n"]);return J=function(){return n},n}function A(){var n=Object(d.a)(["\n  padding: 10px;\n  color: rgb(66, 76, 84);\n  font-size: 12px;\n  font-style: italic;\n"]);return A=function(){return n},n}function N(){var n=Object(d.a)(["\n  padding: 10px;\n  height: 300px;\n  width: 200px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n"]);return N=function(){return n},n}function W(){var n=Object(d.a)(["\n  padding: 10px;\n  color: rgb(66, 76, 84);\n  font-size: 15px;\n"]);return W=function(){return n},n}function Y(){var n=Object(d.a)(["\n  padding: 10px;\n  color: rgb(66, 76, 84);\n  font-size: 15px;\n"]);return Y=function(){return n},n}function q(){var n=Object(d.a)(["\n  text-align: center;\n  padding: 10px;\n  color: rgb(66, 76, 84);\n  font-size: 35px;\n"]);return q=function(){return n},n}function G(){var n=Object(d.a)(['\n  font-size: 25px;\n  font-family: "Montserrat", sans-serif;\n  padding: 10px 20px;\n  margin: 20px 0px;\n  border: 2px solid black;\n  border-radius: 10px;\n  background: none;\n  color: black;\n  transition: 0.2s;\n  :hover {\n    background: black;\n    color: white;\n  }\n']);return G=function(){return n},n}function H(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  color: rgb(66, 76, 84);\n  padding: 20px;\n  border-radius: 25px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n"]);return H=function(){return n},n}function K(){var n=Object(d.a)(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n  font-family: "Montserrat", sans-serif;\n  height: 100vh;\n  width: 70%;\n']);return K=function(){return n},n}var L=s.a.div(K()),Q=s.a.div(H()),U=s.a.button(G()),V=s.a.div(q()),X=s.a.div(Y()),Z=s.a.div(W()),$=s.a.img(N()),_=s.a.div(A()),nn=s.a.div(J()),en=function(n){var e=n.selected,t=n.backClick;return e?r.createElement(L,null,r.createElement(Q,null,r.createElement(V,null,e.Title),r.createElement(X,null,e.Released),r.createElement(nn,null,"IMDB - ",e.imdbRating,"/10"),r.createElement(Z,null,e.Plot,r.createElement(_,null,e.Awards)),r.createElement($,{src:e.Poster,alt:""})),r.createElement(U,{onClick:function(){return t()}},"Back")):null},tn=t(10),rn=t.n(tn),an=function(n,e,t){return rn.a.get("https://www.omdbapi.com/?apikey=13d6c617&s=".concat(n,"&page=").concat(e,"&type=").concat(t)).then((function(n){return n.data}))},cn=function(n){return rn.a.get("https://www.omdbapi.com/?apikey=13d6c617&i=".concat(n)).then((function(n){return n.data}))};function on(){var n=Object(d.a)(["\n  font-size: 12px;\n  padding: 5px 0px;\n"]);return on=function(){return n},n}function un(){var n=Object(d.a)(["\n  padding: 10px;\n  margin: 10px 10px;\n"]);return un=function(){return n},n}function ln(){var n=Object(d.a)(["\n  font-size: 20px;\n"]);return ln=function(){return n},n}function pn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 10px;\n  margin: 20px 10px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  border-radius: 8px;\n  color: black;\n"]);return pn=function(){return n},n}var dn=s.a.div(pn()),sn=s.a.div(ln()),fn=s.a.div(un()),bn=s.a.div(on()),mn=function(n){var e=n.highRatedMovies,t=n.search,a=n.mediaType;return e?r.createElement(dn,null,r.createElement(sn,null,"Top Rated ",t," ",a),r.createElement(fn,null,e.map((function(n){return r.createElement(bn,null,r.createElement("strong",null,n.imdbRating)," ",n.Title)})))):null};function xn(){var n=Object(d.a)(["\n  color: black;\n"]);return xn=function(){return n},n}function vn(){var n=Object(d.a)(['\n  font-size: 25px;\n  font-family: "Montserrat", sans-serif;\n  padding: 10px 20px;\n  margin: 5px 10px;\n  border: 2px solid black;\n  border-radius: 10px;\n  background: none;\n  color: black;\n  transition: 0.2s;\n  :hover {\n    background: black;\n    color: white;\n  }\n']);return vn=function(){return n},n}function gn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return gn=function(){return n},n}function hn(){var n=Object(d.a)(["\n  color: black;\n  text-align: center;\n  padding-top: 20px;\n"]);return hn=function(){return n},n}function kn(){var n=Object(d.a)(["\n  color: black;\n  text-align: center;\n  font-size: 50px;\n  padding: 20px;\n"]);return kn=function(){return n},n}function yn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return yn=function(){return n},n}function jn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return jn=function(){return n},n}function En(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return En=function(){return n},n}function On(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  background: white;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  width: 60%;\n"]);return On=function(){return n},n}function wn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  background: #f5f5f5;\n  height: 100%;\n  width: 100%;\n  margin: 0px;\n"]);return wn=function(){return n},n}var Mn=s.a.div(wn()),Tn=s.a.div(On()),zn=s.a.div(En()),Sn=s.a.div(jn()),Cn=s.a.div(yn()),Rn=s.a.div(kn()),In=s.a.div(hn()),Dn=s.a.div(gn()),Pn=s.a.button(vn()),Bn=s.a.div(xn());var Fn=function(){var n=Object(r.useReducer)(m,{search:"Star Wars",movies:[],page:1,selectedMovie:void 0,popupState:!1,mediaType:"Movie"}),e=Object(p.a)(n,2),t=e[0],i=e[1];Object(r.useEffect)((function(){function n(){return(n=Object(l.a)(u.a.mark((function n(){var e,r,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,an(t.search,t.page,t.mediaType);case 3:return e=n.sent,r=e.Search,n.next=7,Promise.all(r.map((function(n){return cn(n.imdbID)})));case 7:a=n.sent,i({type:"movies fetched",movies:a}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}null!==t.search&&function(){n.apply(this,arguments)}()}),[t.search,t.page,t.mediaType]);var c=a.a.useMemo((function(){return t.movies?t.movies.slice(0).sort((function(n,e){return parseFloat(e.imdbRating)-parseFloat(n.imdbRating)})):[]}),[t.movies]);return t.movies?a.a.createElement(Mn,null,a.a.createElement(Tn,null,a.a.createElement(Rn,null,"Movie Database"),a.a.createElement(O,{submit:function(n){var e=n.search,t=n.mediaType;i({type:"search submitted",payload:{mediaType:t,search:e}})}}),t.popupState&&t.selectedMovie&&t.movies.length?a.a.createElement(en,{selected:t.movies.find((function(n){return n.imdbID===t.selectedMovie})),backClick:function(){i({type:"popup back button clicked"})}}):a.a.createElement("div",null,a.a.createElement(In,null,t.movies.length,' results for "',t.search,'"'),a.a.createElement(zn,null,a.a.createElement(Sn,null,a.a.createElement(mn,{search:t.search,mediaType:t.mediaType,highRatedMovies:c})),a.a.createElement(Cn,null,a.a.createElement(F,{movies:t.movies,clicked:function(n){i({type:"movies list item clicked",clickedMovieId:n})}}))),a.a.createElement(Dn,null,1===t.page?null:a.a.createElement(Pn,{onClick:function(){i({type:"page button minus clicked"})}},"Prev"),a.a.createElement(Pn,{onClick:function(){i({type:"page button plus clicked"})}},"Next"),a.a.createElement(Bn,null," page ",t.page))))):null};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Fn,null)),document.getElementById("root"))},6:function(n,e,t){}},[[27,1,2]]]);
//# sourceMappingURL=main.fe516f92.chunk.js.map